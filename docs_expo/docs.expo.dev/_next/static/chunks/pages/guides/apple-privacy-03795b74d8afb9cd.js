(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[10513],{8340:(e,n,i)=>{"use strict";i.d(n,{B:()=>a});var s=i(37876),r=i(14232),t=i(47681);let a=e=>{let{children:n,abstract:i,title:a}=e;return i?a??="Working in an existing React Native app?":a??="Are you using this library in an existing React Native app?",(0,r.useEffect)(()=>{if("string"==typeof n)throw Error(`Content inside 'ConfigReactNative' needs to be surrounded by new lines to be parsed as markdown.

Make sure there is a blank new line before and after this content: '${n}'`)},[n]),(0,s.jsx)(t.N,{summary:a,children:n})}},34323:(e,n,i)=>{"use strict";Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});let s=i(14232),r=i(71894),t=function(e){let n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(let i in e)if("default"!==i){let s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>e[i]})}}return n.default=e,Object.freeze(n)}(s);function a({className:e,...n}){let i=r.mergeClasses("icon-md text-icon-default translate-z shrink-0",e);return t.createElement("svg",{fill:"none",viewBox:"0 0 24 24",className:i,role:"img",...n},t.createElement("g",{id:"triangle-down-custom-icon"},t.createElement("path",{id:"Vector 250",fill:"currentColor",d:"M18.8831 9.43005H5.11694L12 16.3131L18.8831 9.43005Z"})))}a.displayName="TriangleDownIcon",n.TriangleDownIcon=a},35965:(e,n,i)=>{"use strict";i.a(e,async(e,s)=>{try{i.r(n),i.d(n,{__N_SSG:()=>c,default:()=>d,headings:()=>u,meta:()=>p});var r=i(37876),t=i(91668),a=i(46780),o=e([a]);a=(o.then?(await o)():o)[0];var c=!0;let p={modificationDate:"May 01, 2025",title:"Privacy manifests",description:"Learn about configuring iOS privacy manifests for your mobile app."},u=[{depth:2,type:"text",title:"What is a Privacy manifest?"},{depth:2,type:"text",title:"Configuration in app config"},{depth:3,type:"text",title:"Including required reasons for Expo SDK packages and other third-party libraries"},{depth:2,type:"text",title:"Testing the Privacy manifest"}];function l(e){let n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"If you're using a native iOS library that uses a \"restricted reason\" APIs, you'll need to configure an iOS privacy manifest to declare why you're including native code to call those APIs."}),"\n",(0,r.jsxs)(n.p,{children:['More details and a list of "required reason" APIs can be found in the ',(0,r.jsx)(n.a,{href:"https://developer.apple.com/documentation/bundleresources/privacy_manifest_files",children:"Apple Developer Documentation"}),"."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"info"})," The information and steps included in this guide are still in development and may change due to new tools built for this purpose or new requirements from Apple."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"what-is-a-privacy-manifest",children:"What is a Privacy manifest?"}),"\n",(0,r.jsxs)(n.p,{children:["A privacy manifest is a file named ",(0,r.jsx)(n.strong,{children:"PrivacyInfo.xcprivacy"})," that is included in your iOS native project. This file is used to declare why the app includes native code that calls into certain APIs that Apple considers sensitive."]}),"\n",(0,r.jsx)(n.p,{children:"These APIs currently include accessing UserDefaults, file timestamp, system boot time, disk space, and active keyboard. Apple considers it an open list that can be expanded in the future."}),"\n",(0,r.jsx)(n.h2,{id:"configuration-in-app-config",children:"Configuration in app config"}),"\n",(0,r.jsxs)(n.p,{children:["You can include an iOS privacy manifest by using the ",(0,r.jsx)(n.code,{children:"privacyManifests"})," field under ",(0,r.jsx)(n.code,{children:"expo.ios"})," in your app config."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'@@@app.json@@@{\n  "expo": {\n    "name": "My App",\n    "slug": "my-app",\n    /* @hide ... */ /* @end */\n    "ios": {\n      "privacyManifests": {\n        "NSPrivacyAccessedAPITypes": [\n          {\n            "NSPrivacyAccessedAPIType": "NSPrivacyAccessedAPICategoryUserDefaults",\n            "NSPrivacyAccessedAPITypeReasons": ["CA92.1"]\n          }\n        ]\n      }\n    }\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Make sure you have updated your Expo SDK libraries to the latest versions for your SDK version using ",(0,r.jsx)(n.code,{children:"npx expo install --fix"}),"."]}),"\n",(0,r.jsx)(a.BE,{children:(0,r.jsxs)(n.p,{children:["You can include an iOS privacy manifest in a bare Expo app by creating a ",(0,r.jsx)(n.strong,{children:"PrivacyInfo.xcprivacy"})," file using Xcode and adding it to your iOS app target.\nFollow ",(0,r.jsx)(n.a,{href:"https://developer.apple.com/documentation/bundleresources/privacy_manifest_files",children:"Apple's Privacy manifest files"})," guide to create a ",(0,r.jsx)(n.strong,{children:"PrivacyInfo.xcprivacy"})," file."]})}),"\n",(0,r.jsxs)(n.p,{children:["You can identify the ",(0,r.jsx)(n.code,{children:"NSPrivacyAccessedAPITypes"})," and ",(0,r.jsx)(n.code,{children:"NSPrivacyAccessedAPITypeReasons"})," values by looking at the ",(0,r.jsx)(n.a,{href:"https://developer.apple.com/documentation/bundleresources/privacy_manifest_files/describing_use_of_required_reason_api",children:"Apple Developer documentation"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"including-required-reasons-for-expo-sdk-packages-and-other-third-party-libraries",children:"Including required reasons for Expo SDK packages and other third-party libraries"}),"\n",(0,r.jsxs)(n.p,{children:["As of now, Apple does not correctly parse all the ",(0,r.jsx)(n.strong,{children:"PrivacyInfo"})," files included by static CocoaPods dependencies (such as Expo SDK packages and other ecosystem libraries). You may need to include the required reasons for the APIs used by those dependencies in your app's ",(0,r.jsx)(n.strong,{children:"PrivacyInfo.xcprivacy"})," file or the configuration in the ",(0,r.jsx)(n.strong,{children:"app.json"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:['All Expo SDK packages that use "required reason" APIs file have a ',(0,r.jsx)(n.strong,{children:"PrivacyInfo"})," file included in the package directory. Here's ",(0,r.jsx)(n.a,{href:"https://github.com/expo/expo/blob/main/packages/expo-application/ios/PrivacyInfo.xcprivacy",children:"an example file"})," included with the ",(0,r.jsx)(n.code,{children:"expo-application"})," library."]}),"\n",(0,r.jsxs)(n.p,{children:["You can usually identify the required reasons for the APIs used by other third-party libraries by checking if the library you intend to use has a ",(0,r.jsx)(n.strong,{children:"PrivacyInfo.xcprivacy"})," file in the ",(0,r.jsx)(n.strong,{children:"node_modules/package_name/ios"})," directory. If it does, you can check the ",(0,r.jsx)(n.code,{children:"NSPrivacyAccessedAPITypes"})," and ",(0,r.jsx)(n.code,{children:"NSPrivacyAccessedAPITypeReasons"})," values in that file and copy those values to your configuration."]}),"\n",(0,r.jsxs)(n.p,{children:["As an alternative, Apple notifies developers after they submit a build with missing privacy manifest files or specific reasons. You can wait until you receive a notification email from Apple and then include the required reasons listed in the email in your app's ",(0,r.jsx)(n.strong,{children:"PrivacyInfo.xcprivacy"})," file (if you don't use ",(0,r.jsx)(n.a,{href:"/../../../../../../../workflow/continuous-native-generation",children:"CNG"}),") or the configuration in your ",(0,r.jsx)(n.strong,{children:"app.json"})," file."]}),"\n",(0,r.jsx)(n.h2,{id:"testing-the-privacy-manifest",children:"Testing the Privacy manifest"}),"\n",(0,r.jsx)(n.p,{children:"You can test the privacy manifest by building your app and submitting it, either through App Store review process or to TestFlight's external review. Apple will email you within a few minutes of submitting if your app is missing any required reasons for the APIs used."})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}s()}catch(e){s(e)}})},46780:(e,n,i)=>{"use strict";i.a(e,async(e,s)=>{try{i.d(n,{BE:()=>r.B,Y_:()=>t.Y,rB:()=>a.r});var r=i(8340),t=i(96665),a=i(57646),o=e([a]);a=(o.then?(await o)():o)[0],s()}catch(e){s(e)}})},47681:(e,n,i)=>{"use strict";i.d(n,{N:()=>p});var s=i(37876),r=i(66028),t=i(34323),a=i(34824),o=i(14232),c=i(45893),l=i(30311),d=i(99937);let p=(0,c.A)(e=>{let{summary:n,testID:i,children:c,className:p,headingManager:u,open:h=!1}=e,f=(0,a.useRouter)(),m=(0,o.useRef)(null),x=(0,o.useRef)(u.addHeading(n,1,void 0));return(0,o.useEffect)(()=>{if(f?.asPath){let e=f.asPath.split("#"),n=e.length>0?e[1]:void 0;n&&n===x.current.slug&&m?.current?.setAttribute("open","")}},[]),(0,s.jsxs)("details",{ref:m,id:x.current.slug,className:(0,r.mergeClasses)("mb-3 scroll-m-4 rounded-md border border-default bg-default p-0","[&[open]]:shadow-xs","[h4+&]:mt-3 [li>&]:mt-3 [p+&]:mt-3",p),open:h,children:[(0,s.jsxs)("summary",{className:(0,r.mergeClasses)("group m-0 grid cursor-pointer grid-cols-[min-content_auto_min-content_1fr] items-center rounded-md bg-subtle p-1.5 pr-3","[details[open]>&]:rounded-b-none","[&_h4]:my-0","[&_code]:mt-px [&_code]:inline [&_code]:bg-element [&_code]:pb-px [&_code]:text-[85%] [&_code]:leading-snug"),children:[(0,s.jsx)("div",{className:"ml-1.5 mr-2 mt-[5px] self-baseline",children:(0,s.jsx)(t.TriangleDownIcon,{className:(0,r.mergeClasses)("icon-sm text-icon-default","-rotate-90 transition-transform duration-200","[details[open]>summary_&]:rotate-0")})}),(0,s.jsx)(d.M9,{className:(0,r.mergeClasses)("relative mr-1 inline scroll-m-5 items-center gap-1.5","group-hover:text-secondary group-hover:[&_code]:text-secondary"),children:n}),(0,s.jsx)(r.LinkBase,{href:"#"+x.current.slug,ref:x.current.ref,onClick:()=>{m?.current?.setAttribute("open","")},className:"ml-auto inline rounded-md p-1 hocus:bg-element","aria-label":"Permalink",children:(0,s.jsx)(l.B,{className:"icon-sm invisible inline-flex group-hover:visible group-focus-visible:visible"})}),(0,s.jsx)("div",{})]}),(0,s.jsx)("div",{className:(0,r.mergeClasses)("px-5 py-4","last:[&>*]:!mb-1 [&_p]:ml-0 [&_pre>pre]:mt-0"),children:c})]})})},49857:(e,n,i)=>{"use strict";i.d(n,{Z:()=>c});var s=i(37876),r=i(66028),t=i(44353),a=i(99937),o=i(77972);let c=e=>{let{prefix:n,platforms:i}=e;return i?.length?(0,s.jsxs)(a.Tk,{tag:"span",className:"inline-flex items-center",children:[n&&(0,s.jsxs)("span",{className:(0,r.mergeClasses)(t.gi,"[table_&]:!text-2xs"),children:[n," "]}),i.sort((e,n)=>e.localeCompare(n)).map(e=>(0,s.jsx)(o.A,{platform:e},e)),n&&(0,s.jsx)("br",{})]}):null}},57646:(e,n,i)=>{"use strict";i.a(e,async(e,s)=>{try{i.d(n,{r:()=>f});var r=i(37876),t=i(66028),a=i(96144),o=i(81801),c=i(44353),l=i(61958),d=i(49857),p=i(57623),u=i(99937),h=e([o]);o=(h.then?(await h)():h)[0];let f=e=>{let{children:n,properties:i}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.H3,{children:"Configurable properties"}),!!n&&(0,r.jsx)(u.P,{children:n}),(0,r.jsxs)(l.XI,{children:[(0,r.jsx)(l.nd,{children:(0,r.jsxs)(l.fI,{children:[(0,r.jsx)(l.A3,{children:"Name"}),(0,r.jsx)(l.A3,{children:"Default"}),(0,r.jsx)(l.A3,{children:"Description"})]})}),(0,r.jsx)("tbody",{children:i.map(e=>(0,r.jsxs)(l.fI,{children:[(0,r.jsx)(l.fh,{children:(0,r.jsx)(u.Sq,{children:e.name})}),(0,r.jsx)(l.fh,{children:e.default?(0,r.jsx)(u.Sq,{children:e.default}):"-"}),(0,r.jsxs)(l.fh,{className:"min-w-[320px]",children:[(0,r.jsxs)("div",{className:"mb-2 inline-flex empty:hidden",children:[(e.experimental||e.deprecated)&&(0,r.jsxs)("div",{className:"inline-flex flex-row flex-wrap",children:[e.deprecated&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.h,{status:"deprecated",className:"!mr-0"}),(0,r.jsx)("span",{className:(0,t.mergeClasses)(c.gi),children:" • "})]}),e.experimental&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.h,{status:"experimental",className:"!mr-0"}),(0,r.jsx)("span",{className:(0,t.mergeClasses)(c.gi),children:" • "})]})]}),!!e.platform&&(0,r.jsx)(d.Z,{prefix:"Only for:",platforms:[e.platform]})]}),(0,r.jsx)(a.oz,{components:o.u6,children:e.description})]})]},e.name))})]})]})};s()}catch(e){s(e)}})},77774:(e,n,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/guides/apple-privacy",function(){return i(35965)}])},96665:(e,n,i)=>{"use strict";i.d(n,{Y:()=>a});var s=i(37876),r=i(14232),t=i(99937);let a=e=>{let{children:n}=e;return(0,r.useEffect)(()=>{if("string"==typeof n)throw Error(`Content inside 'ConfigPluginExample' needs to be surrounded by new lines to be parsed as markdown.

Make sure there is a blank new line before and after this content: '${n}'`)},[n]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.H3,{children:"Example app.json with config plugin"}),n]})}}},e=>{var n=n=>e(e.s=n);e.O(0,[96144,81801,90636,46593,38792],()=>n(77774)),_N_E=e.O()}]);
